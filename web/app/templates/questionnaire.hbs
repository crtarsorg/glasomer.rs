<style>
    .question {
        height: auto;
        text-align: left;
        width: auto;
        background-color: #fff;
        color: #000;
    }

    .questions {
        border-radius: 3px;
        height: auto;
        text-align: left;
        padding: 50px 50px 50px 30px;
        width: auto;
        margin: 0 40px 40px 40px;
        background-color: #fff;
        box-shadow: inset 0 0 7px black, 0 0 7px black;
        color: #000;
    }
</style>
<div id="questionnaire" style="text-align: center;">
    <br>
    <h2>Questions</h2>
    <br>
    <div id="questions" class="questions">
        <br>
        {{#each questions}}
            <div class="question">
                {{setIndex @text}}
                <div style="margin-top:-50px;">
                    <h2>
                        {{text}}
                    </h2>
                    <div class="radio-div">
                        {{#each possibleAnswers}}
                            <input type="radio" id="{{../text}} {{value}}" value="{{value}}" name="{{../text}}">
                            <label for="{{../text}} {{value}}"><span></span>&nbsp;{{text}}</label>
                            <br>
                        {{/each}}
                    </div>
                </div>
                <hr class="hr-style" style="width: 100%;">
            </div>
            <br><br>
        {{/each}}
        <br>
        <button id="btn_save" style="margin-left: 38%;" class="btn btn-primary">Show My Results</button>
        <br>
    </div>
    <br>
</div>
<script type="text/javascript">
    $(document).ready(function () {
        console.log("READYYYY!");
        $('#btn_save').click(function () {
            var answers_json = {};
            var answers_array = [];
            $(".question").each(function () {
                var name = $(this).find("div").find("h2").text().trim();
                var selected_answer = $("input[name='" + name + "']:checked").prop("value");
                answers_json[name] = selected_answer;
                answers_array.push(selected_answer);
            });

            console.log(answers_array);
            if (answers_array.indexOf(undefined) != -1) {
                alert("You must fill all of the fields to continue.!");
            } else {
                console.log(answers_json);
            }
        })
    })
</script>